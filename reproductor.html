<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi M√∫sica - Reproductor</title>
    <meta name="description" content="Reproductor de m√∫sica personal con composiciones originales">
    <link rel="stylesheet" href="./src/css/reproductorMp3.css">
    <link rel="icon" href="./src/img/miMusicIcon.png" type="image/png">
</head>
<body>
    <!-- Pantalla de bienvenida -->
    <section class="intro-screen" id="introScreen" role="banner">
        <div class="intro-content">
            <h1 class="intro-title">üéµ Mi M√∫sica</h1>
            <p class="intro-description">
                Bienvenido a mi repertorio de m√∫sica.
            </p>
            <p class="intro-description">
                Aqu√≠ encontrar√°s algunas de mis composiciones originales. ¬°Espero que te gusten!
            </p>
            <button class="continue-btn" onclick="startPlayer()" type="button">
                Continuar
            </button>
        </div>
    </section>

    <!-- Reproductor principal -->
    <main class="main-player" id="mainPlayer" role="main">
        <div class="background-img-move" id="backgroundImg" aria-hidden="true"></div>
        
        <div class="player-container">
            <!-- Header de navegaci√≥n -->
            <header class="player-header">
                <button class="exit-btn" onclick="exitPlayer()" type="button" aria-label="Salir del reproductor">
                    ‚Üê Salir
                </button>
                <button class="playlist-btn" onclick="openPlaylist()" type="button" aria-label="Abrir lista de reproducci√≥n">
                    üìù Lista de Reproducci√≥n
                </button>
            </header>

            <!-- Informaci√≥n de la canci√≥n actual -->
            <section class="song-info" aria-label="Informaci√≥n de la canci√≥n">
                <h2 class="song-title" id="songTitle">Ambient Dreams</h2>
                <p class="song-artist" id="songArtist">Tu Nombre</p>
                
                <dl class="song-details">
                    <div class="detail-item">
                        <dt>Descripci√≥n:</dt>
                        <dd id="songDescription">Una melod√≠a relajante</dd>
                    </div>
                    <div class="detail-item">
                        <dt>Fecha:</dt>
                        <dd id="songDate">2024</dd>
                    </div>
                    <div class="detail-item">
                        <dt>Puntuaci√≥n personal:</dt>
                        <dd class="rating" id="songRating" aria-label="4 de 5 estrellas">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</dd>
                    </div>
                </dl>

                <!-- Botones de acci√≥n -->
                <div class="action-buttons">
                    <button id="donationBtn" onclick="openDonation()" class="action-btn" type="button" aria-label="Hacer una donaci√≥n">
                        üíù Donar
                    </button>
                    <button id="downloadBtn" onclick="downloadSong()" class="action-btn" type="button" aria-label="Descargar canci√≥n actual">
                        ‚¨áÔ∏è Descargar canci√≥n
                    </button>
                </div>
            </section>

            <!-- Visualizaci√≥n del disco -->
            <section class="vinyl-container" aria-label="Visualizaci√≥n del disco">
                <div class="vinyl-record" id="vinylRecord" role="img" aria-label="Disco de vinilo giratorio">
                    <div class="vinyl-center" id="vinylCenter"></div>
                    <div class="vinyl-hole"></div>
                </div>
            </section>

            <!-- Panel de controles de reproducci√≥n -->
            <section class="controls-panel" aria-label="Controles de reproducci√≥n">
                <!-- Controles principales -->
                <div class="main-controls" role="group" aria-label="Controles principales">
                    <button class="control-btn" onclick="previousSong()" type="button" aria-label="Canci√≥n anterior">
                        ‚èÆ
                    </button>
                    <button class="control-btn" onclick="seekTime(-10)" type="button" aria-label="Retroceder 10 segundos">
                        -10s
                    </button>
                    <button class="control-btn play-pause" id="playPauseBtn" onclick="togglePlay()" type="button" aria-label="Reproducir/Pausar">
                        ‚ñ∂
                    </button>
                    <button class="control-btn" onclick="seekTime(10)" type="button" aria-label="Avanzar 10 segundos">
                        +10s
                    </button>
                    <button class="control-btn" onclick="nextSong()" type="button" aria-label="Siguiente canci√≥n">
                        ‚è≠
                    </button>
                </div>

                <!-- Barra de progreso -->
                <div class="progress-container">
                    <div class="progress-bar" onclick="setProgress(event)" role="progressbar" aria-label="Progreso de reproducci√≥n" tabindex="0">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <div class="time-display">
                        <time id="currentTime" aria-label="Tiempo actual">0:00</time>
                        <time id="totalTime" aria-label="Duraci√≥n total">0:00</time>
                    </div>
                </div>

                <!-- Control de volumen -->
                <div class="volume-control" role="group" aria-label="Control de volumen">
                    <button class="control-btn" onclick="toggleMute()" type="button" id="muteBtn" aria-label="Silenciar/Activar sonido">
                        üîä
                    </button>
                    <label for="volumeSlider" class="sr-only">Nivel de volumen</label>
                    <input type="range" class="volume-slider" id="volumeSlider" min="0" max="100" value="70" aria-label="Control de volumen">
                </div>
            </section>
        </div>
    </main>

    <!-- Modal de lista de reproducci√≥n -->
    <aside class="playlist-modal" id="playlistModal" role="dialog" aria-modal="true" aria-labelledby="playlistTitle">
        <div class="playlist-content">
            <header class="playlist-header">
                <h2 id="playlistTitle">Mi Lista de Reproducci√≥n</h2>
                <button class="close-playlist" onclick="closePlaylist()" type="button" aria-label="Cerrar lista de reproducci√≥n">
                    ‚úï
                </button>
            </header>
            <div id="playlistItems" role="list" aria-label="Canciones en la lista">
                <!-- Las canciones se cargar√°n aqu√≠ din√°micamente -->
            </div>
        </div>
    </aside>

    <!-- Audio element (oculto) -->
    <audio id="audioPlayer" preload="metadata" aria-hidden="true"></audio>

    <!-- Scripts -->
    <script src="./src/js/reproductorMp3.js"></script>
</body>
</html>